<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Информационно-расчетная система</title>
</head>
<style>/* Основные сбросы стилей и базовые стили */
/* Общие стили для всей страницы */
body {
    font-family: 'Arial', sans-serif;
    margin: 0;
    padding: 0;
    background-color: #ecf0f1;
}

/* Стили для шапки */
.logout-button {
    background-color: #dc3545;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    color: #fff;
    cursor: pointer;
    display: inline-block; /* Чтобы кнопка не обтекала содержимое */
    margin: 10px;
}

/* Стили для основной навигации */
.navigation {
    background-color: #2c3e50;
    padding: 10px 0;
    color: #fff;
}

.nav-list {
    list-style-type: none;
    padding-left: 0;
    text-align: center;
}

.nav-item {
    display: inline-block;
    margin: 0 10px;
}

.nav-link {
    color: #fff;
    text-decoration: none;
    padding: 10px 15px;
    display: inline-block;
}

.nav-link:hover {
    background-color: #233140;
    border-radius: 5px;
}

/* Стили для основного содержимого */
.main-content {
    padding: 20px;
    text-align: center;
}
/* Стили для контейнеров */
section {
    background-color: #ffffff;
    margin: 20px auto;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    max-width: 960px;
}

/* Стили для секции с формой */
.meter-reading-container {
    margin-bottom: 40px;
}

.section-nav-header {
    color: #2c3e50;
    border-bottom: 2px solid #3498db;
    padding-bottom: 10px;
    margin-bottom: 20px;
}

/* Стили для формы */
form div {
    margin-bottom: 15px;
}

form label {
    display: block;
    margin-bottom: 5px;
    font-weight: bold;
}

form input[type="text"] {
    width: 100%;
    padding: 8px;
    margin-bottom: 10px;
    border: 1px solid #bdc3c7;
    border-radius: 4px;
}

form button {
    background-color: #e74c3c;
    color: white;
    padding: 10px 15px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.3s;
}

form button:hover {
    background-color: #c0392b;
}

/* Стили для секции с историей показаний */
.meter-history-container {
    margin-bottom: 20px;
}

.meter-history-container table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
}

.meter-history-container th, .meter-history-container td {
    text-align: left;
    padding: 10px;
    border: 1px solid #bdc3c7;
}

.meter-history-container th {
    background-color: #3498db;
    color: white;
}

.meter-history-container td {
    background-color: #ecf0f1;
}

/* Стили для подвала */
.footer-container {
    background-color: #2c3e50;
    color: white;
    text-align: center;
    padding: 10px 0;
    width: 100%;
}

.footer-container p {
    margin: 0;
}

/* Медиа запросы для адаптивного дизайна */
@media (max-width: 768px) {
    .user-info {
        position: static;
        text-align: center;
        margin-top: 10px;
    }
}

</style>
<body>

<header class="header">
    <div class="header-bottom">
        <div class="user-welcome">
            <p class="user-greeting">Здравствуйте,</p>
            <div class="user-details">
                <span class="user-name" th:text="${user.getLastName()} + ' ' + ${user.getName()} + ' ' + ${user.getPostName()}">РЕЗНИКОВ ДАНИЛА ЕВГЕНЬЕВИЧ</span>,
            </div>
            <div th:each="entry : ${apartmentsWithStreets}">
                <span class="user-address" th:text="${entry.value.name} + ' ул., д. ' + ${entry.key.houseNumber} + ', кв. ' + ${entry.key.apartmentNumber}">Голосова ул. 44 кв.275</span>
            </div>
            <span class="user-account" th:text="'Лицевой счет: ' + ${user.getId()}">Лицевой счет: 63229508927</span>
            <button class="logout-button" >Выйти</button>
        </div>
    </div>
</header>

<nav class="navigation">
    <ul class="nav-list">
        <li class="nav-item"><a href="/person/main" class="nav-link">Главная</a></li>
        <li class="nav-item"><a href="#" class="nav-link">Счетчики</a></li>
        <li class="nav-item"><a href="#" class="nav-link">Квитанции</a></li>
        <li class="nav-item"><a href="#" class="nav-link">Оплата онлайн</a></li>
        <li class="nav-item"><a href="#" class="nav-link">История оплат</a></li>
        <li class="nav-item"><a href="#" class="nav-link">Обратная связь</a></li>
    </ul>
</nav>

    <main>


        <section class="meter-reading-container">
            <div th:each="entry : ${meters}">
                <h2 class="section-nav-header" th:text="'ИН квартиры'+${entry.key.getId()}"></h2>
                <!-- Ваш action должен указывать на URL, который обрабатывается вашим методом POST в контроллере -->
                <form th:action="@{/meter-readings/add}" method="post">
                    <div th:each="meter, meterStat : ${entry.value}">
                        <label th:text="${'Номер счетчика ' + meter.getCounterNumber()}"></label>
                        <input type="text" th:id="'reading-' + ${meter.getId()}" th:name="${meter.getCounterNumber()}" placeholder="Показания" required><br>
                    </div>
                    <button type="submit">Отправить</button>
                </form>
            </div>
            <p>Прием показаний разрешен с 18 до 23 числа текущего месяца.</p>
        </section>
        <section class="meter-history-container">
            <h2 class="section-nav-header">История внесения показаний ИПУ</h2>
            <table>
                <thead>
                <tr>
                    <th>Номер счетчика</th>
                    <th>Месяц</th>
                    <th>Показания</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="reading : ${readings}">
                    <td th:text="${reading.meter.counterNumber}">Номер счетчика</td>
                    <td th:text="${#temporals.format(reading.date, 'MMMM')}">Месяц</td>
                    <td th:text="${reading.value}">Показания</td>
                </tr>
                </tbody>
            </table>
        </section>


    </main>

    <footer class="footer-container">
        <p>© 2014-2023 1С:ЕРЦ Квартплата.</p>
    </footer>

</body>

</html>
